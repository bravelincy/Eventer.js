!function(n){"use strict";function t(){this._listeners=o(),arguments.length&&this.on.apply(this,arguments)}var i=Array.isArray,e=function(n){return null!==n&&"object"==typeof n},r=function(n){return"string"==typeof n},s=function(n){return"function"==typeof n},o=function(){return Object.create(null)},c=function(n,t,i){for(var e in n)t.call(i,e,n[e])},f=function(n,t){return[].slice.call(n,t)},u={on:function(n,t,i){var e=this._listeners[n],r=!1,s={handler:t,isOnce:!!i};e?(r=e.some(function(n){return n.handler===s.handle}),!r&&e.push(s)):this._listeners[n]=[s]},one:function(){var n=f(arguments);n.push(!0),this.on.apply(this,n)},off:function(n,t){function e(){delete o._listeners[n]}var r,s=this._listeners[n],o=this;t&&i(s)?(r=s.findIndex(function(n){return n.handler===t}),r>-1&&(s.splice(r,1),0===s.length&&e())):e()},fire:function(n,t){var i=this._listeners[n],e=this;i&&i.forEach(function(i){var r={type:n,data:t};s(i.handler)&&i.handler.call(this,r),i.isOnce&&e.off(n,i.handler)})}};t.prototype={offAll:function(){this._listeners=o()},fireAll:function(n){c(this._listeners,function(t){this.fire(t,n)},this)}},c(u,function(n,i){t.prototype[n]=function(n){function t(t){n.split(" ").forEach(function(n){var e=[n].concat(t);i.apply(u,e)})}var s,o=f(arguments,1),u=this;e(n)?(s=n,c(s,function(i,e){n=i,t([e].concat(o))})):r(n)&&t(o)}}),t._listeners=o(),c(t.prototype,function(n,i){t[n]=i}),n.Eventer=t}(window);