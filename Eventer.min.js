!function(n){"use strict";function t(){this._listeners={},arguments.length&&this.on.apply(this,arguments)}var i=(Array.isArray,function(n){return null!==n&&"object"==typeof n}),e=function(n,t,i){for(var e in n)t.call(i,e,n[e])},s=function(n){return[].slice.call(n)},r={on:function(n,t,i){var e=this._listeners[n],s=!1,r={handler:t,isOnce:!!i};e?(s=e.some(function(n){return n.handler===r.handle}),!s&&e.push(r)):this._listeners[n]=[r]},one:function(){var n=s(arguments);n.push(!0),this.on.apply(this,n)},off:function(n,t){function i(){delete r._listeners[n]}var e,s=this._listeners[n],r=this;s&&(t?(e=s.findIndex(function(n){return n.handler===t}),e>-1&&(s.splice(e,1),0===s.length&&i())):i())},fire:function(n,t){var i=this._listeners[n],e=this;i&&i.forEach(function(i){i.handler.call(this,{type:n,data:t}),i.isOnce&&e.off(n,i.handler)})}};e(r,function(n,t){this[n]=function(n,r){function o(i){n.split(" ").forEach(function(n){var e=[n,r];t.apply(a,e.concat(i))})}var c,l=s(arguments),a=this;i(n)?(c=n,e(c,function(t,i){n=t,r=i,o(l.slice(1))})):o(l.slice(2))}},t.prototype),t._listeners={},e(t.prototype,function(n,t){this[n]=t},t),n.Eventer=t}(window);